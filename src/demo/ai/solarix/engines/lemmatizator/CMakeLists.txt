project(lemma)

include_directories(${CMAKE_SOURCE_DIR}/include)

add_definitions(-DLEM_USES_NCURSES=0 -DLEM_CONSOLE -DLEM_UNICODE_CONSOLE -DNDEBUG -DBOOST_ALL_NO_LIB -D_GLIBCPP_USE_WCHAR_T)

add_library(${PROJECT_NAME} SHARED ${CMAKE_SOURCE_DIR}/demo/ai/solarix/engines/lemmatizator/lemmatizator.cpp ${CMAKE_SOURCE_DIR}/ai/la/lemmatizator.cpp ${CMAKE_SOURCE_DIR}/tools/lem_coap.cpp ${CMAKE_SOURCE_DIR}/tools/lem_application.cpp ${CMAKE_SOURCE_DIR}/tools/lem_dll.cpp ${CMAKE_SOURCE_DIR}/tools/lem_opti.cpp ${CMAKE_SOURCE_DIR}/tools/lem_startup.cpp ${CMAKE_SOURCE_DIR}/tools/lem_chec.cpp ${CMAKE_SOURCE_DIR}/tools/lem_conv.cpp ${CMAKE_SOURCE_DIR}/tools/lem_dir.cpp ${CMAKE_SOURCE_DIR}/tools/lem_time.cpp ${CMAKE_SOURCE_DIR}/tools/lem_shell.cpp ${CMAKE_SOURCE_DIR}/tools/lem_interlocked_value.cpp ${CMAKE_SOURCE_DIR}/tools/ui/ui_user_interface.cpp ${CMAKE_SOURCE_DIR}/tools/system_config/system_config.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_437.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_8859_1.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cast_to_url.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_847.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_866.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_1250.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_1251.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_1252.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_code_page.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_recodings.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/cp_sgml.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/ucs4_to_utf8.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/transliterator.cpp ${CMAKE_SOURCE_DIR}/tools/unicode/utf_converters.cpp ${CMAKE_SOURCE_DIR}/tools/lem_process.cpp ${CMAKE_SOURCE_DIR}/tools/lem_reflection.cpp ${CMAKE_SOURCE_DIR}/contain/lem_ustr.cpp ${CMAKE_SOURCE_DIR}/contain/lem_astr.cpp ${CMAKE_SOURCE_DIR}/contain/lem_acstring.cpp ${CMAKE_SOURCE_DIR}/contain/lem_ucstring.cpp ${CMAKE_SOURCE_DIR}/contain/lem_afstring.cpp ${CMAKE_SOURCE_DIR}/contain/lem_ufstring.cpp ${CMAKE_SOURCE_DIR}/contain/lem_fp1.cpp ${CMAKE_SOURCE_DIR}/io/oformatter.cpp ${CMAKE_SOURCE_DIR}/io/xml/xp_parser.cpp ${CMAKE_SOURCE_DIR}/io/xml/xp_node.cpp ${CMAKE_SOURCE_DIR}/io/xml/xp_iterator.cpp ${CMAKE_SOURCE_DIR}/io/io_base_stream.cpp ${CMAKE_SOURCE_DIR}/io/io_binary_file.cpp ${CMAKE_SOURCE_DIR}/io/io_memory_stream.cpp ${CMAKE_SOURCE_DIR}/io/io_text_file.cpp ${CMAKE_SOURCE_DIR}/io/io_tty.cpp ${CMAKE_SOURCE_DIR}/io/base_lexer.cpp ${CMAKE_SOURCE_DIR}/io/io_kbd.cpp ${CMAKE_SOURCE_DIR}/io/lem_mime.cpp ${CMAKE_SOURCE_DIR}/io/lem_logfile.cpp ${CMAKE_SOURCE_DIR}/io/char_reader/chr_base_reader.cpp ${CMAKE_SOURCE_DIR}/io/char_reader/chr_char_reader.cpp ${CMAKE_SOURCE_DIR}/io/char_reader/chr_utf16_reader.cpp ${CMAKE_SOURCE_DIR}/io/char_reader/chr_utf8_reader.cpp ${CMAKE_SOURCE_DIR}/math/lem_imat.cpp ${CMAKE_SOURCE_DIR}/math/random/randu.cpp ${CMAKE_SOURCE_DIR}/tools/base_application.cpp )

target_link_libraries(${PROJECT_NAME} dl rt ncurses pthread sqlite3 boost_regex boost_thread)

add_custom_command(TARGET ${PROJECT_NAME}
                   POST_BUILD
                   COMMAND ${CMAKE_COMMAND} -E copy $<TARGET_FILE:${PROJECT_NAME}> ${CMAKE_SOURCE_DIR}/lib64)
                  
